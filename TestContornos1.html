<!DOCTYPE html>
<html>

<head>
    <title>Test Contornos 1</title>
    <link rel="stylesheet" href="estilostests.css">
</head>

<body>
    <div class="tituloytimer">
        <h1>Contornos de desarrollo</h1>
    <div class="timer">Tiempo: <span id="timer-value">0</span> s.</div>
    </div>


    <div id="test-info" style="display: none;">
        <p>Nombre del Test: Test contornos 1</p>
        <p>Número de preguntas: <span id="question-count"></span></p>
    </div>

    <div id="quiz-container">
    </div>

    <div id="result-message" class="result-message"></div>

    <div id="final-result" class="final-result" style="display: none;">
        <h2>Resultados Finales</h2>
        <p>Preguntas correctas: <span id="correct-answers"></span></p>
        <p>Porcentaje de aciertos: <span id="accuracy"></span>%</p>
    </div>

    <button class="home-button" onclick="window.location.href='index.html'">Página Principal</button>

    <script>
        const questions = [
            {
                "pregunta": "¿Cuál es el objetivo principal de las pruebas de software?",
                "opciones": ["Demostrar que el software no tiene errores.", "Encontrar y corregir todos los errores del software.", "Detectar defectos antes de la entrega al cliente.", "Validar la eficiencia del código fuente."],
                "respuestaCorrecta": 2
            },
            {
                "pregunta": "¿Qué son las pruebas de caja blanca?",
                "opciones": ["Pruebas que se centran en la interfaz del software sin conocer su funcionamiento interno.", "Pruebas que validan los requisitos funcionales sin importar la estructura interna del programa.", "Pruebas que examinan los detalles procedimentales del código de la aplicación.", "Pruebas que se realizan en el entorno real de trabajo con intervención del usuario final."],
                "respuestaCorrecta": 2
            },
            {
                "pregunta": "¿Qué tipo de pruebas se centran en validar la estructura interna del programa?",
                "opciones": ["Pruebas de caja negra.", "Pruebas de integración.", "Pruebas de caja blanca.", "Pruebas de validación."],
                "respuestaCorrecta": 2
            },
            {
                "pregunta": "¿Cuál de las siguientes NO es una categoría de errores que las pruebas de caja negra intentan encontrar?",
                "opciones": ["Funcionalidades incorrectas o ausentes.", "Errores de interfaz.", "Complejidad ciclomática alta.", "Errores en estructuras de datos."],
                "respuestaCorrecta": 2
            },
            {
                "pregunta": "¿En qué nivel de prueba se verifica que cada elemento del software encaja correctamente y se alcanza la funcionalidad y rendimiento total?",
                "opciones": ["Prueba de unidad.", "Prueba de integración.", "Prueba de validación.", "Prueba del sistema."],
                "respuestaCorrecta": 3
            },
            {
                "pregunta": "¿Cuál es el objetivo de la prueba de unidad?",
                "opciones": ["Probar la interacción entre diferentes módulos del software.", "Eliminar errores en la interfaz y en la lógica interna de cada módulo o clase.", "Validar los requisitos establecidos en el análisis de requisitos del software.", "Verificar la resistencia del software ante situaciones que demandan gran cantidad de recursos."],
                "respuestaCorrecta": 1
            },
            {
                "pregunta": "¿Cuál de los siguientes enfoques de prueba de integración prueba cada módulo por separado y luego los combina todos para probar el programa completo?",
                "opciones": ["Integración incremental ascendente.", "Integración incremental descendente.", "Integración no incremental.", "Ninguna de las anteriores."],
                "respuestaCorrecta": 2
            },
            {
                "pregunta": "¿Qué tipo de prueba de software se lleva a cabo por el cliente en el lugar de desarrollo?",
                "opciones": ["Prueba Alfa.", "Prueba Beta.", "Prueba de seguridad.", "Prueba de rendimiento."],
                "respuestaCorrecta": 0
            },
            {
                "pregunta": "¿Cuál de las siguientes NO es una prueba que forma parte de la prueba del sistema?",
                "opciones": ["Prueba de recuperación.", "Prueba de seguridad.", "Prueba de esfuerzo.", "Prueba de unidad."],
                "respuestaCorrecta": 3
            },
            {
                "pregunta": "¿Cuál es el nombre de la técnica de diseño de casos de prueba que se basa en el examen del código fuente para derivar los casos de prueba?",
                "opciones": ["Pruebas de caja negra.", "Pruebas de caja blanca.", "Pruebas de validación.", "Pruebas de integración."],
                "respuestaCorrecta": 1
            },
            {
                "pregunta": "¿Qué métrica se utiliza en la prueba del camino básico para indicar el número de caminos independientes en el código?",
                "opciones": ["Complejidad ciclomática de McCabe.", "Número de nodos predicados.", "Número de aristas del grafo de flujo.", "Número de regiones del grafo de flujo."],
                "respuestaCorrecta": 0
            },
            {
                "pregunta": "¿Qué tipo de prueba se centra en la validación de las estructuras repetitivas del código?",
                "opciones": ["Prueba del camino básico.", "Prueba de bucles.", "Prueba de flujo de datos.", "Prueba de particiones."],
                "respuestaCorrecta": 1
            },
            {
                "pregunta": "¿Qué busca la técnica de prueba de flujo de datos?",
                "opciones": ["Cadenas de definición-uso de variables.", "Caminos independientes en el grafo de flujo.", "Clases de equivalencia de las entradas.", "Valores límite en las condiciones de entrada."],
                "respuestaCorrecta": 0
            },
            {
                "pregunta": "¿Cuál de las siguientes NO es una condición de entrada que se considera en la técnica de particiones o clases de equivalencia?",
                "opciones": ["Un valor específico.", "Un rango de valores permitido.", "La complejidad ciclomática del código.", "Un conjunto de valores permitidos."],
                "respuestaCorrecta": 2
            },
            {
                "pregunta": "¿Qué técnica de diseño de casos de prueba se centra en los valores que se encuentran en los límites de las clases de equivalencia?",
                "opciones": ["Prueba de particiones.", "Análisis de valores límite.", "Prueba del camino básico.", "Conjetura de errores."],
                "respuestaCorrecta": 1
            },
            {
                "pregunta": "¿En qué consiste la técnica de conjetura de errores?",
                "opciones": ["En generar casos de prueba que fuercen errores en el software.", "En crear una lista de errores comunes y situaciones que los provocan para generar casos de prueba.", "En analizar el código fuente para identificar posibles errores y crear casos de prueba específicos.", "En utilizar la experiencia del equipo de desarrollo para predecir errores y crear casos de prueba."],
                "respuestaCorrecta": 1
            },
            {
                "pregunta": "¿Cuál de los siguientes documentos NO forma parte de la documentación del diseño de pruebas?",
                "opciones": ["Plan de pruebas.", "Especificación del diseño de las pruebas.", "Informe de incidentes.", "Especificaciones de casos de prueba."],
                "respuestaCorrecta": 2
            },
            {
                "pregunta": "¿Qué herramienta se utiliza en Eclipse para realizar pruebas unitarias de forma automatizada?",
                "opciones": ["Debugger.", "JUnit.", "TestNG.", "Selenium."],
                "respuestaCorrecta": 1
            },
            {
                "pregunta": "¿Qué anotación de JUnit se utiliza para ejecutar un método antes de cada método de prueba?",
                "opciones": ["@BeforeAll.", "@BeforeEach.", "@AfterEach.", "@AfterAll."],
                "respuestaCorrecta": 1
            },
            {
                "pregunta": "¿Qué indica el color verde en el análisis de cobertura de código en Eclipse?",
                "opciones": ["El método no ha sido probado.", "El método ha sido probado parcialmente.", "El método ha sido probado por completo.", "Se ha producido un error en la prueba del método."],
                "respuestaCorrecta": 2
            }
        ];

        let currentQuestionIndex = 0;
        let correctAnswers = 0;
        let startTime = 0;
        let timerInterval;

        function loadQuestion() {
            const question = questions[currentQuestionIndex];
            const quizContainer = document.getElementById("quiz-container");
            quizContainer.innerHTML = '';

            const questionElement = document.createElement("div");
            questionElement.classList.add("question-container");
            questionElement.innerHTML = `
        <p class="question">${question.pregunta}</p>
        <div class="options">
        ${question.opciones.map((option, index) => `
            <div class="option">
            <input type="radio" name="answer" id="option${index + 1}" value="${index}">
            <label for="option${index + 1}" class="option-button">${option}</label>
            </div>
        `).join("")}
        </div>
        <button class="submit-button" id="submit-button" onclick="checkAnswer()">Enviar</button>
    `;

            quizContainer.appendChild(questionElement);
        }

        function checkAnswer() {
            const selectedOption = document.querySelector('input[name="answer"]:checked');
            const correctAnswerIndex = questions[currentQuestionIndex].respuestaCorrecta;
            const submitButton = document.getElementById("submit-button");
            const resultMessage = document.getElementById("result-message");

            function displayResultMessage(message, textColor, backgroundColor = "#f0f0f0") {
                const resultMessageElement = document.querySelector('.result-message');
                resultMessageElement.textContent = message;
                resultMessageElement.style.color = textColor;
                resultMessageElement.style.backgroundColor = backgroundColor; // Cambiar el fondo
                resultMessageElement.style.display = 'block'; // Mostrar el mensaje
            }
            
            if (selectedOption && parseInt(selectedOption.value) === correctAnswerIndex) {
                correctAnswers++;
                displayResultMessage("¡Correcto!", "black", "#77a345"); // Fondo verde para respuesta correcta
            } else {
                displayResultMessage("Incorrecto", "black", "#8B0000"); // Fondo rojo para respuesta incorrecta
            }
            

            // Cambiar el texto del botón a "Continuar"
            submitButton.textContent = "Continuar";
            submitButton.onclick = nextQuestion; // Hacer que el botón haga lo mismo que el antiguo botón "Continuar"
        }

        function displayResultMessage(message, color) {
            const resultMessage = document.getElementById("result-message");
            resultMessage.innerHTML = `
        <p style="color: ${color};">${message}</p>
    `;
            resultMessage.style.display = "block";
        }

        function nextQuestion() {
            currentQuestionIndex++;
            const resultMessage = document.getElementById("result-message");
            resultMessage.style.display = "none";

            if (currentQuestionIndex < questions.length) {
            loadQuestion();
            } else {
                showFinalResult();
        }
        }

        function showFinalResult() {
            clearInterval(timerInterval);
            const finalResult = document.getElementById("final-result");
            const correctAnswersElement = document.getElementById("correct-answers");
            const accuracyElement = document.getElementById("accuracy");

            correctAnswersElement.textContent = correctAnswers;
            accuracyElement.textContent = Math.round((correctAnswers / questions.length) * 100);
            finalResult.style.display = "block";

            // Store the data in local storage
            localStorage.setItem('testName', 'Cuestionario de Pruebas de Software');
            localStorage.setItem('correctAnswers', correctAnswers);
            localStorage.setItem('totalQuestions', questions.length);
        }

        function startTimer() {
            startTime = Date.now();
            timerInterval = setInterval(() => {
                const elapsedTime = Math.floor((Date.now() - startTime) / 1000);
                document.getElementById("timer-value").textContent = elapsedTime;
            }, 1000);
        }
        function loadTestInfo() {
            document.getElementById("question-count").textContent = questions.length;
            document.getElementById("test-info").style.display = "block";
            startTimer();
            loadQuestion();
        }

        loadTestInfo();
    </script>


</body>

</html>